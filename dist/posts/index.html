<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,700" rel="stylesheet" type="text/css">
    <link href="/css/bundle.css" rel="stylesheet"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div id="outlet"><nav class="navbar navbar-full navbar-dark bg-inverse"><div class="container"><div id="navbar"><a class="navbar-brand" href="/">Cody Reichert <small>The one true blog</small></a><ul class="nav navbar-nav pull-md-right"><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/posts">Posts</a></li></ul></div></div></nav><div class="container"><div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/device-screenshots-in-chrome-canary">Chrome Canary: Take mobile device screenshots</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>6/6/2016</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>programming, tips</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>I came across a
<a href="https://twitter.com/ChromeDevTools/status/738864794497753088">tweet</a>
the other day by <a href="https://twitter.com/ChromeDevTools">@ChromeDevTool</a>
that I had to share - super cool.</p>
<p>In the latest
<a href="https://www.google.com/chrome/browser/canary.html">Chrome Canary build</a>
you can not only view your website on different mobile device sizes,
but you can now also view the device and take a screenshot of the
whole thing! Here&#39;s an example:</p>
<p><div style="max-width:100%;text-align:center">
<img src="/images/chrome-canary-screenshot.png" alt="*fig 1.2*"/>
</div>
<br/>
<i>So meta</i></p>
<p>I&#39;ll leave you to play with all the different devices and take your
own screenshots - go download the latest Chrome Canary build and get
started!</p>
<p>:: <a href="https://twitter.com/CodyReichert">@CodyReichert</a></p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/javascript-boolean-anything">JavaScript: Anything to boolean</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>6/4/2016</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>javascript, tips</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>Double negatives aren&#39;t <em>not</em> bad, but the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators#Logical_NOT">Logical NOT</a>
operator is pretty cool. You&#39;re probably familiar with it, <code>!</code>. It&#39;s a
unary operator that returns <code>false</code> if it&#39;s argument can be coerced to
<code>true</code>, and vice versa:</p>
<pre><code class="hljs lang-javascript">    !<span class="hljs-literal">true</span> <span class="hljs-comment">// false</span>
    !<span class="hljs-literal">false</span> <span class="hljs-comment">// true</span>

    <span class="hljs-comment">// with coercion</span>
    !<span class="hljs-number">1</span> = <span class="hljs-comment">// false</span>
    !<span class="hljs-number">0</span> = <span class="hljs-comment">// true</span>
    ![] = <span class="hljs-comment">// false</span></code></pre><p>And since <code>!</code> returns a single boolean, we can pass it&#39;s result to another <code>!</code>: <code>!!</code>:</p>
<pre><code class="hljs lang-javascript">    !!<span class="hljs-literal">true</span> <span class="hljs-comment">// true</span>
    !!<span class="hljs-literal">false</span> <span class="hljs-comment">// false</span>

    <span class="hljs-comment">// with coercion</span>
    !!<span class="hljs-number">1</span> = <span class="hljs-comment">// true</span>
    !!<span class="hljs-number">0</span> = <span class="hljs-comment">// false</span>
    !![] = <span class="hljs-comment">// true</span></code></pre><p>You should know the rules of what can be converted to <code>true</code>
(<a href="https://developer.mozilla.org/en-US/docs/Glossary/truthy">truthy</a>)
and to <code>false</code>
(<a href="https://developer.mozilla.org/en-US/docs/Glossary/falsy">falsy</a>).</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/pretty-print-json">Pretty Printing JSON in JavaScript</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>5/3/2016</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>programming, javascript</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>I frequently look up how to pretty pring JSON in JavaScript. Whether it be
for debugging in the console, to display some output to the user, or any other
reason.</p>
<p><code>JSON.stringify()</code> is usually used to simply convert a JSON object to a string
for use elsewhere in the application. It also takes 2 additional parameters:
<code>replacer</code> and <code>space</code>.</p>
<p><strong>Replacer</strong></p>
<p>The replacer argument tells JSON.stringify to parse your JSON object in a
custom way -- eg, replace all <code>&quot;true&quot;</code> and <code>&quot;false&quot;</code> strings with the
Boolean version <code>true</code> or <code>false</code>. You can do a million other things here,
but we&#39;re not too concered about this parameter when all we want to do is
pretty print.</p>
<p><strong>Space</strong></p>
<p>The <code>space</code> argument, though a little oddly named, tells JSON.stringify() to
add spacing to the string output -- like a newline, tab, or single space.</p>
<p>Using this parameter, we can print out our stringified JSON in a readable
format:</p>
<pre><code class="hljs lang-javascript"><span class="hljs-built_in">JSON</span>.stringify({ a: <span class="hljs-number">1</span>, b:<span class="hljs-number">2</span> }, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>)

<span class="hljs-comment">// "{</span>
<span class="hljs-comment">//    "a": 1,</span>
<span class="hljs-comment">//    "b": 2</span>
<span class="hljs-comment">//  }"</span></code></pre><p>And there we go - a nice, readable JSON object as a string. There&#39;s more
information on the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">MDN</a> page about what you can pass to
this function - so check those out and start pretty printing!</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/jsx-the-basics">JSX - The Basics</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>3/5/2016</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>programming, javascript</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>When most people get started with
<a href="https://facebook.github.io/react/">React.js</a>, JSX is the first thing
that comes as a surprise. JSX is a templating language inside
JavaScript. Remeber all those string template you to write with
<em>(insert frontend framework here)</em>?, well JSX to the rescue.</p>
<p><strong>Table of Contents:</strong></p>
<ul>
<li><a href="#what-is-jsx">What is JSX</a></li>
<li><a href="#comments-in-jsx">Comments in JSX</a></li>
<li><a href="#passing-props">Passing Props</a></li>
<li><a href="#boolean-props">Boolean Props</a></li>
</ul>
<h3 id="what-is-jsx">  <a class="heading-anchor" style="display:none;" href="#what-is-jsx">    <i class="fa fa-link"></i>  </a>What is JSX</h3><blockquote class="blockquote"><p>JSX is a JavaScript syntax extension that looks similar to XML. You
can use a simple JSX syntactic transform with React.</p>
</blockquote><p>Picture this. Instead of writing HTML strings within your code, you
can use a preprocessor that allow you to write (basically) pure HTML
with some compile-time checking? Brilliant, let&#39;s look at the examples
from Facebook&#39;s
<a href="https://facebook.github.io/react/docs/displaying-data.html">Displaying Data</a>
post:</p>
<p>Without JSX:</p>
<pre><code class="hljs lang-javascript">React.createElement(<span class="hljs-string">'a'</span>, {href: <span class="hljs-string">'https://facebook.github.io/react/'</span>}, <span class="hljs-string">'Hello!'</span>)</code></pre><p>With JSX:</p>
<pre><code class="hljs lang-javascript">&lt;a href=<span class="hljs-string">"https://facebook.github.io/react/"</span>&gt;Hello!<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span></span></code></pre><p>Great! We&#39;ve improved readability by 10,000%.</p>
<p>Now that we&#39;ve got a solid introduction<sup>;)</sup> to JSX, let&#39;s
take a look at some common gotchas.</p>
<h2 id="comments-in-jsx">  <a class="heading-anchor" style="display:none;" href="#comments-in-jsx">    <i class="fa fa-link"></i>  </a>Comments in JSX</h2><p>It&#39;s common to want to write comments within your markup. Inside of
JSX, there are a couple of &#39;rules&#39; to follow:</p>
<h3 id="in-between-jsx-elements,-wrap-your-comments-in">  <a class="heading-anchor" style="display:none;" href="#in-between-jsx-elements,-wrap-your-comments-in">    <i class="fa fa-link"></i>  </a>In between JSX elements, wrap your comments in <code>{}</code></h3><p><em>valid</em>:</p>
<pre><code class="hljs lang-javascript">&lt;div&gt;
    {/** A comment about the component below */}
    &lt;span&gt;Hello, JSX&lt;/span&gt;
&lt;/div&gt;</code></pre><p><em>invalid</em>:</p>
<pre><code class="hljs lang-javascript">&lt;div&gt;
    /** A comment about the component below */
    &lt;span&gt;Hello, JSX&lt;/span&gt;
&lt;/div&gt;</code></pre><h3 id="inside-of-a-jsx-tag-you-can-use-normal-comments:">  <a class="heading-anchor" style="display:none;" href="#inside-of-a-jsx-tag-you-can-use-normal-comments:">    <i class="fa fa-link"></i>  </a>Inside of a JSX tag you can use normal comments:</h3><p><em>valid</em>:</p>
<pre><code class="hljs lang-javascript">&lt;div&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">AwesomeComponent</span>
        /** <span class="hljs-attribute">Some</span> <span class="hljs-attribute">commentsabout</span> <span class="hljs-attribute">the</span> <span class="hljs-attribute">props</span> <span class="hljs-attribute">below</span> */
        <span class="hljs-attribute">prop1</span>=<span class="hljs-value">"jsxRocks"</span>
        <span class="hljs-attribute">booly</span>=<span class="hljs-value">{true}</span>
    /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></span></code></pre><p><em>invalid</em>:</p>
<pre><code class="hljs lang-javascript">&lt;div&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">AwesomeComponent</span>
        {/** <span class="hljs-attribute">Some</span> <span class="hljs-attribute">commentsabout</span> <span class="hljs-attribute">the</span> <span class="hljs-attribute">props</span> <span class="hljs-attribute">below</span> */}
        <span class="hljs-attribute">prop1</span>=<span class="hljs-value">"jsxRocks"</span>
        <span class="hljs-attribute">booly</span>=<span class="hljs-value">{true}</span>
    /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span></span></code></pre><h2 id="passing-props">  <a class="heading-anchor" style="display:none;" href="#passing-props">    <i class="fa fa-link"></i>  </a>Passing Props</h2><p>JSX also makes passing <code>props</code> (arguments) to other components with
simple HTML-like syntax. If you&#39;re not familiar with nesting
components and receiving components, you should check out
<a href="https://facebook.github.io/react/docs/jsx-in-depth.html">JSX In Depth</a>
first.</p>
<h3 id="string-props">  <a class="heading-anchor" style="display:none;" href="#string-props">    <i class="fa fa-link"></i>  </a>String Props</h3><p>Normal, string value props are easy to pass to child components:</p>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    name=<span class="hljs-string">"jsxRocks"</span>
/&gt;</code></pre><p>Now inside of <code>AwesomeComponent</code> you have access to <code>this.props.name</code>
that references the value <code>jsxRocks</code>.</p>
<h3 id="functions">  <a class="heading-anchor" style="display:none;" href="#functions">    <i class="fa fa-link"></i>  </a>Functions</h3><p>Passing functions as callback is also common practice when writing JSX components.
A basic example would look like:</p>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    handleNameChange={data =&gt; myAction(data)}
/&gt;</code></pre><p>Whoah, let&#39;s not a couple of things here:</p>
<ul>
<li><p><code>{}</code>. Where did that come from?
JSX can take JavaScript expressions as arguments to props. This
means that you&#39;re not restricted to string props. You can pas
functions to children that make handling callback easier.</p>
<p>To extend the example, this means we can use any logic we want inside of component&#39;s attributes.
Need computed data at render time? Not problem</p>
</li>
</ul>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    conditionalProp={thing === <span class="hljs-literal">true</span> ? <span class="hljs-string">'thisprop'</span> : <span class="hljs-string">'thatprop'</span>}
/&gt;</code></pre><ul>
<li>No quotes?
When using expressions as a value to a prop, you don&#39;t need to do
any fancy string interpolation - React will take care of rendering
the result of the expression.</li>
</ul>
<h3 id="basic-function-optimizations">  <a class="heading-anchor" style="display:none;" href="#basic-function-optimizations">    <i class="fa fa-link"></i>  </a>Basic function optimizations</h3><p>Keep in mind that when creating functions inside of components
<code>render</code> method (like we&#39;re doing with the expressions in props), that
a new function is created on each re-render.</p>
<p>This is a pretty minor thing for most apps, but as the size of
application grows and you start thinking about performance, minimizing
the amount of work on the client can be idea.</p>
<p>If we take our two examples from above, they would be better written
so a new function is not created and the class intsance can take care
of re-computing the value:</p>
<pre><code class="hljs lang-javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AwesomeComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{

    conditionalProp() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.props.thing ? <span class="hljs-string">'prop1'</span> : <span class="hljs-string">'prop2'</span>
    }

    render() {

        <span class="hljs-keyword">const</span> { thing } = <span class="hljs-keyword">this</span>.props

        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">AwesomeComponent</span>
                <span class="hljs-attribute">conditionalProp</span>=<span class="hljs-value">{this.conditionalProp()}</span>
            /&gt;</span>
        )</span>
    }
}</code></pre><h3 id="function-reference-vs-function-unwrapping">  <a class="heading-anchor" style="display:none;" href="#function-reference-vs-function-unwrapping">    <i class="fa fa-link"></i>  </a>Function reference vs Function unwrapping</h3><p>When the <code>render</code> method of a component is called, functions inside of
the JSX are executed and their return values are used in place of the
props. That brings up two common use-cases for using expression in
components:</p>
<p><strong>Using a reference to a function</strong></p>
<p>Sometimes you will need to provide a callback method to child
component - and sometimes you will need to provide the first argument
to a function and let the child provide the rest. In those cases,
anonymouse functions work perfectly:</p>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    conditionalProp={data =&gt; myCallback(id, data)}
/&gt;</code></pre><p>What we&#39;re doing in the above example is called <em>partial function
application</em>. In a nutshell, we create a <code>unary</code> function that returns
a <code>binary</code> function with the first argument already given (so really,
we get a <code>unary</code> function again).</p>
<p>When the <code>render</code> method of the component is called, functions are
executed. With the example above again, what we actually get <em>after</em>
the render is:</p>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    handleCallback={data =&gt; myCallback(id, data)}
/&gt;</code></pre><p>And inside of <code>AwesomeComponent</code>, you can simply call:</p>
<pre><code class="hljs lang-javascript"><span class="hljs-keyword">this</span>.props.handleCallback(arg)</code></pre><p><strong>Using the value of a function</strong></p>
<pre><code class="hljs lang-`javascript">class AwesomeComponent extends React.Component {

    conditionalProp() {
        return this.props.thing ? 'prop1' : 'prop2'
    }

    render() {

        const { thing } = this.props

        return (
            &lt;AwesomeComponent
                conditionalProp={this.conditionalProp()}
            /&gt;
        )
    }
}</code></pre><h2 id="boolean-props">  <a class="heading-anchor" style="display:none;" href="#boolean-props">    <i class="fa fa-link"></i>  </a>Boolean Props</h2><p>Passing boolean properties to JSX components is simple. The only thing
you need to know is that they are <em>JavaScript Booleans</em>, not <em>String
Booleans</em>. In other words:</p>
<p>This is correct:</p>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    handleCallback={<span class="hljs-literal">true</span>}
/&gt;</code></pre><p>This is not:</p>
<pre><code class="hljs lang-javascript">&lt;AwesomeComponent
    handleCallback=<span class="hljs-string">"true"</span>
/&gt;</code></pre><p><small>
<em>Just a quick note that the second one actually <em>is</em> valid, but it&#39;s
not considered a <code>boolean</code> it&#39;s considered a <code>string</code>.</em>
</small></p>
<h3 id="alternative-syntax">  <a class="heading-anchor" style="display:none;" href="#alternative-syntax">    <i class="fa fa-link"></i>  </a>Alternative syntax</h3><p>An alternative for passing <code>true</code> is to simply provide the prop name without a value:</p>
<pre><code class="hljs lang-javascript">&lt;Input disabled/&gt;</code></pre><p>My professional opinion is to always use the full <code>true</code> or <code>false</code>
value for the sake of readability.</p>
<h2 id="final-thoughts">  <a class="heading-anchor" style="display:none;" href="#final-thoughts">    <i class="fa fa-link"></i>  </a>Final Thoughts</h2><p>Are there any pieces of JSX where you got caught up first starting?
Let&#39;s chat - shoot me a message on twitter
<a href="https://twitter.com/CodyReichert">@CodyReichert</a> and I&#39;ll add it!</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/january-2016-reading-list">January 2016 Reading List</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>1/4/2016</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>programming, common lisp</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>One of my goals this year is to spend more time reading. Books on
business, startups, psychology, history, etc, are all fair game.</p>
<p>Last month, January, I picked up a few new books. Some I really like
and others were OK. In no particular order:</p>
<h1 id="completed">  <a class="heading-anchor" style="display:none;" href="#completed">    <i class="fa fa-link"></i>  </a>Completed</h1><h2 id="a-href="http://www.amazon.com/rework-jason-fried/dp/0307463745"">  <a class="heading-anchor" style="display:none;" href="#a-href="http://www.amazon.com/rework-jason-fried/dp/0307463745"">    <i class="fa fa-link"></i>  </a><a href="http://www.amazon.com/Rework-Jason-Fried/dp/0307463745">Rework - Jason Fried</a></h2><p>Reading <em>Rework</em> was a breath of fresh air. Brilliantly put together,
blunt no-fluff advice, and wittingly accurate illustrations and
metaphors made this my #1 book this month.</p>
<p>If you&#39;re new to startups, veteran to startups, interested in the
culture, or anywhere in between, then go to your local Amazon and pick
this up immediately. You won&#39;t regret it.</p>
<h2 id="a-href="http://www.amazon.com/zero-one-notes-startups-future/dp/0804139296/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737377&amp;sr=1-1&amp;keywords=zero+to+one"">  <a class="heading-anchor" style="display:none;" href="#a-href="http://www.amazon.com/zero-one-notes-startups-future/dp/0804139296/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737377&amp;sr=1-1&amp;keywords=zero+to+one"">    <i class="fa fa-link"></i>  </a><a href="http://www.amazon.com/Zero-One-Notes-Startups-Future/dp/0804139296/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1455737377&amp;sr=1-1&amp;keywords=zero+to+one">Zero to One - Peter Thiel</a></h2><p>Zero to One is filled with interesting insight from one of our
startup culture&#39;s very own, Peter Thiel. There&#39;s no denying that
Thiel is a smart businessman - so that alone is reason enough to
read anything he writes.</p>
<p>This book really made me think about some tough topics like
competing with your competition and how major technilogical
advances occur. Every chapter of this book got me pumped up to
build something world-changing.</p>
<h2 id="a-href="http://www.amazon.com/virgin-way-its-worth-doing/dp/1591847982/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737278&amp;sr=1-1&amp;keywords=the+virgin+way"">  <a class="heading-anchor" style="display:none;" href="#a-href="http://www.amazon.com/virgin-way-its-worth-doing/dp/1591847982/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737278&amp;sr=1-1&amp;keywords=the+virgin+way"">    <i class="fa fa-link"></i>  </a><a href="http://www.amazon.com/Virgin-Way-Its-Worth-Doing/dp/1591847982/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1455737278&amp;sr=1-1&amp;keywords=the+virgin+way">The Virgin Way - Richard Branson</a></h2><p>I didn&#39;t have many expectations going into this book - but I came
out with nothing but praise for Sir Branson and The Virgin Way. The
book is funny, thought-provoking, and riddled with real life
anecdotes about Virgin and other mega-corps (Netflix, Microsoft,
etc).</p>
<p>I would recommend this to anyone who is interested in Richard
Branson, or what it&#39;s like running hundreds of businesses. His
writing is easy to read and intriguing, it&#39;s hard to put down!</p>
<p>After this one, I&#39;ll be looking to pick up a couple more of Richard
Bransons books.</p>
<h2 id="a-href="http://www.amazon.com/how-win-friends-influence-people/dp/0671027034/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737210&amp;sr=1-1&amp;keywords=how+to+win+friends"">  <a class="heading-anchor" style="display:none;" href="#a-href="http://www.amazon.com/how-win-friends-influence-people/dp/0671027034/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737210&amp;sr=1-1&amp;keywords=how+to+win+friends"">    <i class="fa fa-link"></i>  </a><a href="http://www.amazon.com/How-Win-Friends-Influence-People/dp/0671027034/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1455737210&amp;sr=1-1&amp;keywords=how+to+win+friends">How to Win Friends and Influence Peopl - Dale Carnegie</a></h2><p>A classic. Anyone who has read any of Dale Carnegie&#39;s books (then
you&#39;ve probably read this one) would tell you that is writing style
is one of a kind and hilariously interstesting. How to Win Friends
is a must read (and re-read) for anyone in a leadership role.</p>
<p>I&#39;ll keep this one on the shelf and read it again.</p>
<h1 id="in-progress">  <a class="heading-anchor" style="display:none;" href="#in-progress">    <i class="fa fa-link"></i>  </a>In Progress</h1><h2 id="a-href="http://www.amazon.com/lincoln-dale-carnegie/dp/160796550x/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737421&amp;sr=1-1&amp;keywords=lincoln+the+unknown"">  <a class="heading-anchor" style="display:none;" href="#a-href="http://www.amazon.com/lincoln-dale-carnegie/dp/160796550x/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737421&amp;sr=1-1&amp;keywords=lincoln+the+unknown"">    <i class="fa fa-link"></i>  </a><a href="http://www.amazon.com/Lincoln-Dale-Carnegie/dp/160796550X/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1455737421&amp;sr=1-1&amp;keywords=lincoln+the+unknown">Lincoln the Unknown - Dale Carnegie</a></h2><p>I picked Up Lincoln the Unknown after finishing Carnegie&#39;s other
book, How to Win Friends. Lincoln the Unknown is an interesting
tale of Abraham Lincoln&#39;s life and upbringing.</p>
<p>I haven&#39;t quite finished it, so let&#39;s hope for an update next month.</p>
<h2 id="a-href="http://www.amazon.com/hard-thing-about-things-building/dp/0062273205/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737458&amp;sr=1-1&amp;keywords=the+hard+thing+about+hard+things"">  <a class="heading-anchor" style="display:none;" href="#a-href="http://www.amazon.com/hard-thing-about-things-building/dp/0062273205/ref=sr_1_1?s=books&amp;ie=utf8&amp;qid=1455737458&amp;sr=1-1&amp;keywords=the+hard+thing+about+hard+things"">    <i class="fa fa-link"></i>  </a><a href="http://www.amazon.com/Hard-Thing-About-Things-Building/dp/0062273205/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1455737458&amp;sr=1-1&amp;keywords=the+hard+thing+about+hard+things">The Hard Thing About Hard Things - Ben Horowitz</a></h2><p>At this point in time, the most I&#39;ve read of this book is the
inside cover. Horowitz&#39;s book is highly recommened across the
industry as a guide for managing a startup.</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/cl-ses">cl-ses - Sending Emails from Common Lisp with AWS SES</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>8/6/2015</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>programming, common lisp</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>I&#39;ve been enjoying using Common Lisp lately. After going through the
first half of
<a href="http://www.gigamonkeys.com/book/">Practical Common Lisp</a> (highly
recommended), I wanted to write some scripts to automate some of my
own tasks. We use AWS for most of our infrastraucture at
<a href="https://simplyrets.com">SimplyRETS</a> and
<a href="http://reichertbrothers.com">Reichert Brothers</a>, and run jobs to
check how our API&#39;s are holding up. Naturally, I wanted to automate
some of that and send out an email when reports are generated.</p>
<p>In case you don&#39;t want to read the rest:
<a href="https://github.com/CodyReichert/cl-ses">Here&#39;s the code</a></p>
<h2 id="options">  <a class="heading-anchor" style="display:none;" href="#options">    <i class="fa fa-link"></i>  </a>Options</h2><p>There are a few AWS libraries out there for Common Lisp<sup>1</sup>, but I
couldn&#39;t find one that supported SES - except for
<a href="http://www.obrezan.com/lisp/aws-ses/">aws-ses</a>. The problem I had
with aws-ses is that it only works with LispWorks - which is perfectly
fine, but I&#39;ve been using SBCL and wanted something with a bit more
flexibility.</p>
<p>One a side note, if you <em>are</em> using LispWorks - <code>aws-ses</code> is really
cool since the author wrote his own hmac, sha1, and base64 algorithms
with 0 dependencies.</p>
<h2 id="cl-ses">  <a class="heading-anchor" style="display:none;" href="#cl-ses">    <i class="fa fa-link"></i>  </a>CL-SES</h2><p>The app I wanted to send email from was running in SBCL - so I decided
a port of aws-ses would be the right thing to do.</p>
<p>I put up <a href="https://github.com/CodyReichert/cl-ses">cl-ses</a> on GithHub
the other day after porting all of the LispWorks specific
function. Specifically, the use of <code>comm</code> for the tcp connection was
the major blocker. I decided against porting <code>comm</code> to <code>sb-bsd-ports</code>
and opted for bringing in <a href="http://weitz.de/drakma/">Drakma</a>, which is
an awesome HTTP Library that has already hashed out the differences
between Lisp implementations.</p>
<p>Losing the &quot;no dependency&quot; badge and adding the &quot;1 dependency, but
multiple implementations&quot; badge was the best route - especially since
there seems to be a lack of any high level email libraries.</p>
<h3 id="usage">  <a class="heading-anchor" style="display:none;" href="#usage">    <i class="fa fa-link"></i>  </a>Usage</h3><p>I changed up a bit of code in order to get the signing algorthims to
work with Drakma&#39;s headers, but the library stayed very simple - only
exposing one <code>send-email</code> function. Here&#39;s all it takes to send an
email:</p>
<pre><code class="hljs lang-lisp">  <span class="hljs-list">(<span class="hljs-keyword">cl-ses</span><span class="hljs-keyword">:send-email</span> <span class="hljs-keyword">:from</span> <span class="hljs-string">"me@example.com"</span>
                     <span class="hljs-keyword">:to</span> <span class="hljs-string">"you@example.com"</span>
                     <span class="hljs-keyword">:subject</span> <span class="hljs-string">"Hello from CL-SES"</span>
                     <span class="hljs-keyword">:message</span> <span class="hljs-string">"The body of the email message"</span>
                     <span class="hljs-keyword">:aws-access-key</span> <span class="hljs-string">"XXXXXX"</span></span></code></pre><p><code>send-email</code> returns <code>T</code> if the status was 200 (OK), and <code>NIL</code>
otherwise. In the future I&#39;ll hopefully have implemented better
error reporting.</p>
<p>You can easily send to multiple recipients:</p>
<pre><code class="hljs lang-lisp">  <span class="hljs-list">(<span class="hljs-keyword">cl-ses</span><span class="hljs-keyword">:send-email</span> <span class="hljs-keyword">:from</span> <span class="hljs-string">"me@example.com"</span>
                     <span class="hljs-keyword">:to</span> <span class="hljs-string">"first@example.com,second@example.com,third@example.com"</span>
                     <span class="hljs-keyword">:subject</span> <span class="hljs-string">"Hello from CL-SES"</span>
                     <span class="hljs-keyword">:message</span> <span class="hljs-string">"The body of the email message"</span>
                     <span class="hljs-keyword">:aws-access-key</span> <span class="hljs-string">"XXXXXX"</span>
                     <span class="hljs-keyword">:aws-secret-key</span> <span class="hljs-string">"XXXXXXXXXXX"</span>)</span></code></pre><p>I&#39;m working on extending this to support more of AWS&#39;s features, allow
for a lot of the obvious settings (like the AWS region), provide
better error hanlding, and built in support for HTML emails - but
other than that it&#39;s working great so far.</p>
<h2 id="footnotes">  <a class="heading-anchor" style="display:none;" href="#footnotes">    <i class="fa fa-link"></i>  </a>Footnotes</h2><p>1 - <a href="https://github.com/xach/zpb-aws">zpb-aws</a> and
<a href="https://github.com/hargettp/hh-aws">hh-aws</a> are the two I found.</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/managing-dotfiles-with-gnu-stow">Managing Your Dotfiles with GNU Stow</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>7/1/2015</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>programming</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>I see questions and posts almost every day (Eg,
<a href="http://www.reddit.com/r/archlinux/comments/3cad2o/best_way_to_share_config_files/">One</a>,
<a href="https://www.reddit.com/r/commandline/comments/3c0bvk/when_you_have_multiple_systems_and_your_own_bin/">Two</a>,
<a href="https://www.reddit.com/r/bash/comments/370kh9/extensive_dotfiles_w_focus_on_tmux_vim_ack_git/">Three</a>)
on the best way to manage configuration files between machines or
workplaces. There&#39;s a lot of (ok) solutions out there. However,
they&#39;re all setup-specific bash scripts that aren&#39;t very reproducible.</p>
<p>I wanted to write this to hopefully prevent people from maintaining
their Makefiles, and to keep their dots pristine.</p>
<h2 id="welcome-gnu-stow">  <a class="heading-anchor" style="display:none;" href="#welcome-gnu-stow">    <i class="fa fa-link"></i>  </a>Welcome GNU Stow</h2><p><a href="https://www.gnu.org/software/stow/">GNU Stow</a> is a symlink-farm
manager. Wait, I thought we were talking about dotfiles? Well, we
are. To quote the original site:</p>
<blockquote class="blockquote"><p>GNU Stow is a symlink farm manager which takes distinct packages of
software and/or data located in separate directories on the
filesystem, and makes them appear to be installed in the same place</p>
</blockquote><p>When it comes to configuration files, this means that we can do
things like: create a directory anywhere on our system that
imitates the structure of our <code>$HOME</code> directory, and then have Stow
symlink them from the imitated directory, to the real <code>$HOME</code>.</p>
<h2 id="directory-structure">  <a class="heading-anchor" style="display:none;" href="#directory-structure">    <i class="fa fa-link"></i>  </a>Directory Structure</h2><p>There&#39;s a lot of good examples out there, but one of the most
common questions I see is still, &quot;Wait, so how does it
work?&quot;. Hopefully this will clarify.</p>
<p>Create a directory anywhere on your system called <code>dotfiles/</code>, and
<code>cd</code> into it. Now pretend for a minute that you&#39;re <em>actually</em> in
your <code>$HOME</code> directory. Where would you find your <code>.bashrc</code>?
Probably some place like this:</p>
<pre><code class="hljs lang-screen">     └── ~/
         └── .bashrc</code></pre><p>With Stow, you imitate that structure:</p>
<pre><code class="hljs lang-screen">     └── dotfiles/
         └── bash/
              └── .bashrc</code></pre><p>Not all configuration files live in the top-level of your
home-directory, so what about a program that keeps in config file
in the <code>$XDG_CONFIG_HOME</code>?</p>
<p>The key to Stow is remembering that, you have a subdirectory (eg,
<code>dotfiles/bash</code>) for each program that wish to store configuration
files. So in essence, we end up imitating our home directory each
time we add something new. Here&#39;s a bigger example with more
nesting:</p>
<pre><code class="hljs lang-screen">   ── dotfiles/
      │
      ├── awesomewm/
      ├──── .config/
      ├──────── awesome/
      ├─────────── rc.lua
      │
      ├── bash/
      ├──── .bashrc
      │
      ├── emacs/
      ├──── .emacs.d/
      ├──────── init.el
      │
      ├── zsh/ # we can name these dirs whatever we want</code></pre><p>There&#39;s a few different things going on up there, but they all
follow the same pattern.</p>
<p>First, note that we can name the first-level directories whatever
we want, but it makes sense to call them the name of the program
they contain. Second, see how directly under each first-level
directory, we start placing files exactly where they should show up
in our <code>$HOME</code> directory.</p>
<p>Repeat those steps for any other configuration files you
want to Stow away.</p>
<h2 id="using-stow">  <a class="heading-anchor" style="display:none;" href="#using-stow">    <i class="fa fa-link"></i>  </a>Using Stow</h2><p>Now that the dotfiles folder is set up, we can actually use
Stow. Let&#39;s with only using the <code>.bashrc</code> from above.</p>
<p>Remove, backup, rename, your original .bashrc (the one that&#39;s <em>not
in your dotfiles</em>), because we need that name for Stow.</p>
<p><code>cd</code> into your new dotfiles directory, and run:</p>
<pre><code class="hljs lang-sh">  stow bash</code></pre><p>That will create a symlink from your dotfiles repo, to the correct
place at home:</p>
<pre><code class="hljs lang-sh">  ls -al ~/.bashrc
  <span class="hljs-comment"># outputs:</span>
  <span class="hljs-comment"># .bashrc -&gt; dotfiles/bash/.bashrc</span></code></pre><p>The stow command simply takes the name of the directory you wish to
symlink. You can do the same for the other configurations in your
dotfiles repo, and you successfully have them all managed.</p>
<h2 id="advanced-usage">  <a class="heading-anchor" style="display:none;" href="#advanced-usage">    <i class="fa fa-link"></i>  </a>Advanced Usage</h2><p>Using Stow in combination with git (or any other VC) is really the
best part. It allows you to have your entire configuration on any
system in just a matter of seconds.</p>
<p>And when you leave, if you don&#39;t want to leave your config files
there, stow comes with a nice flag to unstow:</p>
<pre><code class="hljs lang-sh">  stow -D bash</code></pre><p>For a more complex and complete example, you can chekout
<a href="https://github.com/CodyReichert/dotfiles">my dotfiles</a> on Github.</p>
<p>My hope here is that I&#39;ll now be able to point people to this article
to help them understand Stow little better without needing to actually
set it up. If you&#39;ve found any other cool uses for this tool, or some
other programs manange your dotfiles - leave it in the comments!</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/blogging-with-emacs-and-org-mode">Blogging with Emacs and Org Mode</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>7/6/2015</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>emacs, org-mode</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p>I&#39;ve finally got my new blog up! I&#39;ve been wanting to migrate from
Middleman, a static-site generator written in Ruby. The problem was
that it was too many steps to post a new article - so I just never
did.</p>
<p>I&#39;ve been eyeing
<a href="http://orgmode.org/worg/org-blog-wiki.html">a few solutions for blogging completely from within Emacs</a>. There&#39;s
some good (and some outdated) software on the wiki to accomplish that.</p>
<p>I finally came across <a href="https://github.com/kelvinh/org-page">org-page</a>,
which seemed to be exactly what I wanted. The documentation was a
little terse, but it&#39;s a simple setup so I decided to give it a shot.</p>
<p>Here&#39;s what I was able to get set up, with a few snippets to accompany
the
<a href="https://github.com/kelvinh/org-page/wiki/Quick-Guide-to-Org-page">official documentation</a>.</p>
<ul>
<li>Write blogs completely in <code>org-mode</code> (obviously)</li>
<li>Publish to GitHub pages (or anywhere you can push static files).</li>
<li>One command publish</li>
<li>Ability to customize a theme, or write my own</li>
<li>Tags, RSS Feed, and all the other blog goodies.</li>
<li>Never have to leave Emacs</li>
</ul>
<h1 id="installation">  <a class="heading-anchor" style="display:none;" href="#installation">    <i class="fa fa-link"></i>  </a>Installation</h1><p>Org-page is <a href="http://melpa.org/#/org-page">available on MELPA</a>, so the
install is simple:</p>
<pre><code class="hljs lang-sh">  M-x package-install RET org-page RET</code></pre><p>That will give you org-page and a few commands (which is all you need)
to create a repo, add a new post, and publish.</p>
<p><em>For manual installation, see the
<a href="https://github.com/kelvinh/org-page/wiki/Quick-Guide-to-Org-page">documentation</a></em></p>
<h1 id="set-up-a-repo">  <a class="heading-anchor" style="display:none;" href="#set-up-a-repo">    <i class="fa fa-link"></i>  </a>Set up a repo</h1><p>Org-page also handles this for you, with the available command
<code>op/new-repository</code>. So find a place on your system you want</p>
<pre><code class="hljs lang-emacs-lisp">M-x op/new-repository RET /path/to/new/blog RET</code></pre><p>This sets up a new git repository, with a few pages already laid
out for you (index.org, about.org, readme, etc).</p>
<h1 id="org-page-in-your-init.el">  <a class="heading-anchor" style="display:none;" href="#org-page-in-your-init.el">    <i class="fa fa-link"></i>  </a>Org-page in your init.el</h1><p>There are few things you&#39;ll need to set up in your Emacs config
file to get things working correctly. Here&#39;s an annotated example:</p>
<pre><code class="hljs lang-lisp">  <span class="hljs-list">(<span class="hljs-keyword">require</span> <span class="hljs-quoted">'org-page</span>)</span>
  <span class="hljs-list">(<span class="hljs-keyword">setq</span> op/repository-directory <span class="hljs-string">"~/workspace/play/newblog"</span>)</span>
  <span class="hljs-list">(<span class="hljs-keyword">setq</span> op/site-domain <span class="hljs-string">"http://codyreichert.github.io"</span>)</span>
  <span class="hljs-list">(<span class="hljs-keyword">setq</span> op/personal-github-link <span class="hljs-string">"https://github.com/CodyReichert"</span>)</span>
  <span class="hljs-list">(<span class="hljs-keyword">setq</span> op/site-main-title <span class="hljs-string">"The One True Blog"</span>)</span>
  <span class="hljs-list">(<span class="hljs-keyword">setq</span> op/site-sub-title <span class="hljs-string">"Emacs, Programming, and Arch Linux"</span>)</span>
  <span class="hljs-list">(<span class="hljs-keyword">setq</span> op/personal-disqus-shortname <span class="hljs-string">"theonetrueblog"</span>)</span></code></pre><p>   Kelvin used very sane variable names, so most of that should be
   self-explanatory.  Not all of those are required, but if you leave
   out things like the GitHub Link, it just won&#39;t show at all -
   perfect.</p>
<p>   <em>Reload your Emacs config and let&#39;s move on</em></p>
<h1 id="creating-a-new-post">  <a class="heading-anchor" style="display:none;" href="#creating-a-new-post">    <i class="fa fa-link"></i>  </a>Creating a new post</h1><p>You&#39;ll probably first want to fill out some of the generated
pages, like <code>about.org</code> and <code>index.org</code>.</p>
<blockquote class="blockquote"><p>Pro-tip: If you remove the =index.org= it will default to a list of
posts, like mine. It&#39;s preferable since there is already an about page.</p>
</blockquote><p>Once again, org-page has another built in command to get a new post
started. The best thing about it is that is handles the description,
file name, post uri, tags, and more. Meaning you can get to just
writing articles, not boilerplate.</p>
<pre><code class="hljs lang-sh">M-x op/new-post RET</code></pre><p>It will run you through a few steps to generate all of those fields
for you post, and put your cursor where you can start writing.
<a href="../img/op-new-post.gif">op/new-post gif example</a></p>
<h1 id="publishing-your-new-blog">  <a class="heading-anchor" style="display:none;" href="#publishing-your-new-blog">    <i class="fa fa-link"></i>  </a>Publishing your new blog</h1><p>Yet again...built in to org-page. And since we&#39;re in Emacs, we can
make it do whatever we want. First, make sure you set the remote in
your blogs git repo:</p>
<pre><code class="hljs lang-sh">    git remote add origin git@github.com:CodyReichert/CodyReichert.github.io
    git remote -v</code></pre><p>Org-page has a command <code>op/do-publication</code>. It asks a couple of
questions, and compiles the org mode pages for you. When you set up
your repository, org-page created two branches: source and
master. This is a good setup for GitHub-pages and probably most
other hosts. All of your org files live on the source branch, and
org-page will add and commit the compiled files to the mater branch.</p>
<p><em>The questions:</em></p>
<p>1) Publish all org-files (y or n)
2) Publish to directory? (original repo if not) (y or n)
   This on is particularly useful for sending the compiled files to
   another directory, which you can watch with a simple HTTP server
   and quickly view changes when your writing.
3) Auto-commit to repo? (y or n)
4) Auto-push to repo? (y or n)</p>
<p>The last two are great, because all I need to do run
<code>op/do-publication</code> and the new post is live within a few
seconds. <em>That&#39;s</em> the Emacs way.</p>
<p><a href="../img/op-do-publication.gif">Here&#39;s a GIF</a> of how I published this
blog, right after I wrote this part.</p>
<h1 id="other-setup">  <a class="heading-anchor" style="display:none;" href="#other-setup">    <i class="fa fa-link"></i>  </a>Other setup</h1><p>I have a few other snippets for using a custom theme with org-page,
and a couple other nice settings I&#39;ll share eventually.</p>
<p>My recommendation is to <code>C-h f RET ___ RET</code> on some of the org-page
functions, they&#39;re documented well.</p>
<p>You can also view my org-page setup
<a href="https://github.com/CodyReichert/dotfiles">on Github</a>.</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/webpack-entry-points">Webpack: Create Multiple Bundles Using Entry Points</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>7/5/2015</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>webpack, javascript</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><p><a href="http://webpack.github.io/">Webpack</a> is module bundler that generates
static assets for almost all of your front-end dependencies, and their
dependencies. It&#39;s primary use-case is for creating optimized bundles
for you Javascript, but it&#39;s quickly been extended to handle
everything from fonts, images, and even a compilation step for
CoffeeScript, LESS, and pretty much anything else you can think of.</p>
<p>A common use case for Webpack is single page applications, but another
large one is for <em>multi</em> page applications. Loading a large JavaScript
bundle on every page is not ideal, so let&#39;s set up Webpack to create
multiple bundles for us.</p>
<h2 id="a-basic-setup">  <a class="heading-anchor" style="display:none;" href="#a-basic-setup">    <i class="fa fa-link"></i>  </a>A basic setup</h2><p>So let&#39;s say the front-end JavaScript/Stylesheets structure of our
site looks like this:</p>
<pre><code class="hljs lang-text">    └── static
        ├── dist
        └── src
            ├── js
            │   ├── Account.js
            │   └── Front.js
            ├── node_modules
            ├── package.json
            ├── stylesheets
            │   └── main.scss
            └── webpack.config.js</code></pre><p>Most importantly, We have a main Javascript file for Front and
Account.</p>
<p>The goal is to have Webpack generate a <code>front-bundle.js</code> and
<code>account-bundle.js</code> bundle. The advantage here is that new visitors
who aren&#39;t logged in don&#39;t need to load a huge JavaScript bundle
just for visiting the homepage.</p>
<h2 id="single-entry-point">  <a class="heading-anchor" style="display:none;" href="#single-entry-point">    <i class="fa fa-link"></i>  </a>Single Entry Point</h2><p>With a goal in mind, we can dig into Webpack and see what it offers.
By default, Webpack makes you define an <code>entry-point</code>, basically the
root JavaScript file for you app:</p>
<pre><code class="hljs lang-js">    <span class="hljs-built_in">module</span>.exports = {
        entry: {
            app: <span class="hljs-string">"./static/src/app.js"</span>
        },
        output: {
            path: <span class="hljs-string">"./static/dist"</span>,
            filename: <span class="hljs-string">"app-bundle.js"</span>
        }
    };</code></pre><p>Our site structure doesn&#39;t match up with that. With this, we would
have to load all the account panel JavaScript on the homepage too -
which is far from ideal.</p>
<h2 id="multiple-entry-points">  <a class="heading-anchor" style="display:none;" href="#multiple-entry-points">    <i class="fa fa-link"></i>  </a>Multiple Entry Points</h2><p>Webpack supports
<a href="http://webpack.github.io/docs/multiple-entry-points.html">multiple entry points</a>
for this reason. Here&#39;s a new configuration more suited to our site
structure:</p>
<pre><code class="hljs lang-js">     <span class="hljs-built_in">module</span>.exports = {
         entry: {
             front: <span class="hljs-string">"./static/src/js/Front.js"</span>,
             account: <span class="hljs-string">"./static/src/js/Account.js"</span>
         },
         output: {
             path: <span class="hljs-string">"./static/dist"</span>,
             filename: <span class="hljs-string">"[name]-bundle.js"</span>
         }
     };</code></pre><p>Much better. What&#39;s happening here is that Webpack is now looking
for both <code>Front.js</code> and <code>Account.js</code>, and will create a separate
bundle, including the Webpack runtime and dependencies, for each of
those. In the output object, we export the bundle to <code>static/dist</code>
and use the <code>[name]</code> variable to name each bundle.</p>
<p>We end up with <code>/static/dist/front-bundle.js</code> and
<code>/static/dist/account-bundle.js</code>. Great, so now we can the script
tag to each page and we&#39;re done!</p>
<p><strong>Almost...</strong></p>
<p>Even though the bundles contain different code, there are a few
libraries/modules that we use in both Front and Account. So, what
about the use-case where a new user <em>does</em> end up logging in?</p>
<p>We wouldn&#39;t want to make them re-download the same JavaScript!</p>
<h2 id="common-chunks">  <a class="heading-anchor" style="display:none;" href="#common-chunks">    <i class="fa fa-link"></i>  </a>Common Chunks</h2><p>While the solution above is good, it can be better.</p>
<p>Ideally, we have Front-bundle.js and Account-bundle.js - but we
also have a Common-bundle.js that contains the modules we use
<em>everywhere</em>. The browser will cache Common-bundle.js, so when a
user transitions from the Front to the Account, they&#39;ve already got
most of what they need.</p>
<p>Say hello to the
<a href="http://webpack.github.io/docs/list-of-plugins.html#1-commons-chunk-for-entries">CommonChunksPlugin</a>*.</p>
<h2 id="configuring-commonchunksplugin">  <a class="heading-anchor" style="display:none;" href="#configuring-commonchunksplugin">    <i class="fa fa-link"></i>  </a>Configuring CommonChunksPlugin</h2><p>The common chunks plugin will look for and find all common modules
and dependencies between your entry points, and automatically
bundle them. All we need to is a little configuration:</p>
<pre><code class="hljs lang-js">      <span class="hljs-keyword">let</span> commonsPlugin = <span class="hljs-keyword">new</span> webpack.optimize.CommonsChunkPlugin(
          <span class="hljs-string">'commons'</span>,  <span class="hljs-comment">// Just name it</span>
          <span class="hljs-string">'common.js'</span> <span class="hljs-comment">// Name of the output file</span>
                      <span class="hljs-comment">// There are more options, but we don't need them yet.</span>
      );

      <span class="hljs-built_in">module</span>.exports = {
          entry: {
              front: <span class="hljs-string">"./static/src/js/Front.js"</span>,
              account: <span class="hljs-string">"./static/src/js/Account.js"</span>
          },
          output: {
              path: <span class="hljs-string">"./static/dist"</span>,
              filename: <span class="hljs-string">"[name]-bundle.js"</span>
          },
          plugins: [ commonsPlugin ]
          <span class="hljs-comment">// more config options</span>
      };</code></pre><p>We initialize a new instance of the <code>CommonChunksPlugin</code> and pass
a couple parameters (annotated). After that, the Webpack will do
the rest.</p>
<p>The <code>commons</code> bundle will also be output to <code>static/dist/</code>, with
the name that we gave it (<code>common.js</code>).</p>
<h2 id="wrapping-up">  <a class="heading-anchor" style="display:none;" href="#wrapping-up">    <i class="fa fa-link"></i>  </a>Wrapping Up</h2><p><em>Now</em> we&#39;re done! Remeber to add the <code>&lt;script&gt;</code> for both the entry
bundle and the common bundle to the correct pages, and Webpack will
do the rest.</p>
<p>It&#39;s a powerful tool, and I think does a great job of cleaning up
the mess that is front-end dependency management. There&#39;s an endless
amount of plugins and extentions already out there, so we&#39;ll see
where Webpack ends up in 6 months to a year.</p>
<p>:: Cody Reichert</p>
</div></div><div><h1 style="padding-top:25px;padding-bottom:10px;"><a href="/posts/wordpress-custom-post-type-template-options">Adding Template Options to a Wordpress Custom Post Type</a></h1><small class="text-muted"><span style="margin-right:10px;"><i class="fa fa-calendar" style="margin-right:5px;"></i>12/6/2014</span><span style="margin-right:10px;"><i class="fa fa-folder" style="margin-right:5px;"></i>wordpress, php</span><span style="margin-right:10px;"><i class="fa fa-pencil" style="margin-right:5px;"></i>Cody Reichert</span></small><hr/><div><h2 id="about-the-task">  <a class="heading-anchor" style="display:none;" href="#about-the-task">    <i class="fa fa-link"></i>  </a>About the Task</h2><p>I&#39;ve recently been working on a Wordpress plugin for a new service
we&#39;ll be releasing at Reichert Brothers in the next couple of
months. Although I haven&#39;t ever done too much in Wordpress, it
allows for some really cool things and lends itself well to rapid
development. I ran into a couple of problems when developing out
the plugin that I think might be valuable enough to get documented
and help anyone else out that may come across the same issues.</p>
<h3 id="background">  <a class="heading-anchor" style="display:none;" href="#background">    <i class="fa fa-link"></i>  </a>Background</h3><p>For the sake of making this easier to understand, I&#39;ll give a
little background on what I needed my plugin to accomplish. In a
nutshell, I ventured to write a &#39;simple&#39; plugin that would
retrieve JSON from an external API, format it, and display it on a
Custom Post Type Page I created. I wanted to write as few of my
own custom templates as possible and inherit the templates that
the active theme makes available. The following things needed to
be achieved:</p>
<ul>
<li><em>Create a Custom Post Type</em>: to display the data from an API on
 our custom pages. (not covered here)</li>
<li><em>Add meta boxes</em>: to filter the requests to our third part API
 (not covered here)</li>
<li><em>Allow the user to pick a template</em>: for their Custom Post Type
 Pages. These templates should not be hardcoded and should be
 the same templates that the active theme offers (full-width,
 left-sidebar, etc).</li>
</ul>
<p>We&#39;ll be covering the third bullet - allowing the admin to pick a
different template for each of our Custom Post Type pages.</p>
<h3 id="the-problem">  <a class="heading-anchor" style="display:none;" href="#the-problem">    <i class="fa fa-link"></i>  </a>The Problem</h3><p>When creating a new custom post type, Wordpress does allow for authors
to add the <code>page-attributes</code> capabilities to their posts. But they don&#39;t
include the Template dropdown (see fig 1.1). As a matter of fact, they
explicity hardcode it to only be allowed on <code>page</code> post types. Well, I
wanted my users to be able to pick a template offered by their active
theme on a page-by-page basis.</p>
<div style="text-align:center">
<img src="./images/wp-page-attributes.png" alt="*fig 1.1*"/>
</div>

<p>The most common solution I found was to register a setting for the
admin where they could pick one template to take effect on all of
those custom post type pages. But let&#39;s say my custom post type is for
restaraunt menus. Well, now the restaraunt needs two pages: one for
their lunch menu and one for the dinner menu. The lunch menu is much
smaller and thus doesn&#39;t need a &#39;full-width&#39; layout. But the dinner
menu is large and the admin doesn&#39;t want anything else on that
page. Now do you see why we might need the ability to choose a
template on a page-by-page basis. At least this was my though process.</p>
<h2 id="diving-in">  <a class="heading-anchor" style="display:none;" href="#diving-in">    <i class="fa fa-link"></i>  </a>Diving In</h2><p>Well in the end, I ended up figuring out what I think is a decent
solution. I don&#39;t think I &#39;invented&#39; this solution, because I bet
there a many other people out there doing the same thing, but let&#39;s
take a look.</p>
<h3 id="tl;dr-solution">  <a class="heading-anchor" style="display:none;" href="#tl;dr-solution">    <i class="fa fa-link"></i>  </a>TL;DR Solution</h3><p>We&#39;ll leverage the use of Meta Boxes to provide our own dropdown
menu. Then we&#39;ll save that setting in our <code>post_meta</code>, retrieve that
setting when our CPT pages are loaded, and show the correct
template. Pretty simple!</p>
<h3 id="registering-the-meta-box">  <a class="heading-anchor" style="display:none;" href="#registering-the-meta-box">    <i class="fa fa-link"></i>  </a>Registering the Meta Box</h3><p>First, we&#39;ll start off by creating our meta box for our Custom Post
Type. If you&#39;ve never used meta boxes before, I recommend taking a
look at the
<a href="WP Codex
Function Reference for =add_meta_box=">http://codex.wordpress.org/Function_Reference/add_meta_box</a>. It gives some great examples
and provides plenty of info on how to set one up. Keep in mind all of
this is from a plugin. I won&#39;t go into setting all of that up in this
blog, but that&#39;s where we&#39;ll be working from.</p>
<p>Let&#39;s set up our meta box! I&#39;ll touch on the important methods and
settings, but I&#39;ll leave out explaining the irrelevant ones. Our code:</p>
<pre><code class="hljs lang-php">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cptTemplateMetaBox</span><span class="hljs-params">()</span> </span>{
    add_meta_box(
      <span class="hljs-string">'cpt-template-meta-box'</span>
      , __( <span class="hljs-string">'Page Template'</span>, <span class="hljs-string">'my-cpt-textdomain'</span> )
      , <span class="hljs-string">'postTemplateMetaBoxMarkup'</span>
      , <span class="hljs-string">'my-cpt-name'</span>
      , <span class="hljs-string">'side'</span>
      , <span class="hljs-string">'core'</span>
    );
  }
  add_action( <span class="hljs-string">'add_meta_boxes'</span>, <span class="hljs-string">'cptTemplateMetaBox'</span> );</code></pre><p>Ok so we&#39;ve successfully created our Meta Box (even if it&#39;s not doing
anything yet.) Let&#39;s go through these the <code>add_meta_box</code> function and
see what we&#39;re setting up.</p>
<ul>
<li><em>cpt-template-meta-box</em>: is simply the html ID that wordpress will give our meta box when it&#39;s put on the page.</li>
<li><em>__( &#39;Page Template, &#39;cpt-textdomain&#39; )</em>: is the title that wordpress will give our meta box when it&#39;s rendered.</li>
<li><em>postTemplateMetaBoxMarkup</em>: is the name of the function we&#39;re
about to define that will render the markup to go inside of our
meta box.</li>
<li><em>my-cpt-name</em>: is the name of our custom post type for which to load our meta box.</li>
<li><em>side</em>: is where our meta box will go. On the side, since that&#39;s
where the normal one would be.</li>
<li><em>core</em>: This field is the &#39;priority&#39; of the meta box.</li>
<li><em>add_action</em>: registers the meta box.</li>
</ul>
<h3 id="rendering-the-meta-box">  <a class="heading-anchor" style="display:none;" href="#rendering-the-meta-box">    <i class="fa fa-link"></i>  </a>Rendering the Meta Box</h3><p>Now that we have registered our Meta Box, it&#39;s time to give it
some markup. Basically, we&#39;ll just generate one simple dropdown
box that has a list of all the currently available
templates. Since this part is a little more detailed than the
previous code snippet, I commented inline what everything is
doing. Here&#39;s the code:</p>
<pre><code class="hljs lang-php">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postTemplateMetaBoxMarkup</span><span class="hljs-params">( <span class="hljs-variable">$post</span> )</span> </span>{
      <span class="hljs-comment">// create a nonce for verification (not covered in this post)</span>
      wp_nonce_field( basename(<span class="hljs-keyword">__FILE__</span>), <span class="hljs-string">'cpt_template_meta_nonce'</span> );

      <span class="hljs-comment">// we get the cpt_page_template meta field from the database when we load</span>
      <span class="hljs-comment">// the admin panel. We haven't saved on yet, but when we do it'll be here.</span>
      <span class="hljs-variable">$current_template</span> = get_post_meta( <span class="hljs-variable">$post</span>-&gt;ID, <span class="hljs-string">'cpt_page_template'</span>, <span class="hljs-keyword">true</span>);
      <span class="hljs-comment">// the get_page_templates() function retrieves all of the currently enabled</span>
      <span class="hljs-comment">// templates.</span>
      <span class="hljs-variable">$template_options</span> = get_page_templates();

      <span class="hljs-comment">// start creating our markup</span>
      <span class="hljs-comment">// first we create a label, the 'for' attribute should match the 'name' of the &lt;input&gt; we</span>
      <span class="hljs-comment">// want to save.</span>
      <span class="hljs-variable">$box_label</span> = <span class="hljs-string">'&lt;label for="cpt_page_template"&gt;Page Template&lt;/label&gt;'</span>;
      <span class="hljs-comment">// &lt;select&gt; wrapper around our options. notice the 'name' == 'for' from above</span>
      <span class="hljs-variable">$box_select</span> = <span class="hljs-string">'&lt;select name="cpt_page_template"&gt;'</span>;

      <span class="hljs-comment">// we give a Default option which will default to whatever the theme's default</span>
      <span class="hljs-comment">// template is.</span>
      <span class="hljs-variable">$box_default_option</span> = <span class="hljs-string">'&lt;option value=""&gt;Default Template&lt;/option&gt;'</span>;
      <span class="hljs-variable">$box_options</span> = <span class="hljs-string">''</span>;

      <span class="hljs-comment">// here's the meat. For EACH of the available templates, create an &lt;option&gt; for it,</span>
      <span class="hljs-comment">// and put it in our &lt;select&gt; box.</span>
      <span class="hljs-keyword">foreach</span> (  <span class="hljs-variable">$template_options</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$name</span>=&gt;<span class="hljs-variable">$file</span> ) {
          <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$current_template</span> == <span class="hljs-variable">$file</span> ) {
              <span class="hljs-variable">$box_options</span> .= <span class="hljs-string">'&lt;option value="'</span> . <span class="hljs-variable">$file</span> . <span class="hljs-string">'" selected="selected"&gt;'</span> . <span class="hljs-variable">$name</span> . <span class="hljs-string">'&lt;/option&gt;'</span>;
          } <span class="hljs-keyword">else</span> {
              <span class="hljs-variable">$box_options</span> .= <span class="hljs-string">'&lt;option value="'</span> . <span class="hljs-variable">$file</span> . <span class="hljs-string">'"&gt;'</span> . <span class="hljs-variable">$name</span> . <span class="hljs-string">'&lt;/option&gt;'</span>;
          }
      }

      <span class="hljs-comment">// echo our markup (you should return it, but we won't do that here).</span>
      <span class="hljs-keyword">echo</span> <span class="hljs-variable">$box_label</span>;
      <span class="hljs-keyword">echo</span> <span class="hljs-variable">$box_select</span>;
      <span class="hljs-keyword">echo</span> <span class="hljs-variable">$box_default_option</span>;
      <span class="hljs-keyword">echo</span> <span class="hljs-variable">$box_options</span>;
      <span class="hljs-keyword">echo</span> <span class="hljs-string">'&lt;/select&gt;'</span>;
  }</code></pre><p>Note, we don&#39;t have to register this function with any hooks or
filters because it&#39;s called directory from the =add_meta_box=
function. Now we should have a fully rendered meta box on our Custom
Post Type Pages. It&#39;s not saving any settings yet, but now we can
start persisting the selection. (See fig 1.2)</p>
<div style="text-align:center">
<img src="./images/wp-page-template-meta-box.png" alt="*fig 1.2*"/>
</div>


<h3 id="persisting-the-meta-box-data">  <a class="heading-anchor" style="display:none;" href="#persisting-the-meta-box-data">    <i class="fa fa-link"></i>  </a>Persisting the Meta Box Data</h3><p>Wordpress makes saving the data from the Meta Box really
simple. In our case, it&#39;s going to see our select box and look for
the =selected= option. Since this isn&#39;t a meta box tutorial, I&#39;ll
leave out the details of how the saving works. All we need to know
is that the field saved, and what the name of the saved field
is. Here&#39;s the code:</p>
<pre><code class="hljs lang-php">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postTemplateMetaBoxSave</span><span class="hljs-params">( <span class="hljs-variable">$post_id</span> )</span> </span>{
      <span class="hljs-variable">$current_nonce</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">'cpt_template_meta_nonce'</span>];
      <span class="hljs-variable">$is_autosaving</span> = wp_is_post_autosave( <span class="hljs-variable">$post_id</span> );
      <span class="hljs-variable">$is_revision</span>   = wp_is_post_revision( <span class="hljs-variable">$post_id</span> );
      <span class="hljs-variable">$valid_nonce</span>   = ( <span class="hljs-keyword">isset</span>( <span class="hljs-variable">$current_nonce</span> ) &amp;&amp; wp_verify_nonce( <span class="hljs-variable">$current_nonce</span>, basename( <span class="hljs-keyword">__FILE__</span> ) ) ) ? <span class="hljs-string">'true'</span> : <span class="hljs-string">'false'</span>;

      <span class="hljs-comment">// if the post is autosaving, a revision, or the nonce is not valid</span>
      <span class="hljs-comment">// do not save any changed settings.</span>
      <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$is_autosaving</span> || <span class="hljs-variable">$is_revision</span> || !<span class="hljs-variable">$valid_nonce</span> ) {
          <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-comment">// Find our 'cpt_page_template' field in the POST request, and save it</span>
      <span class="hljs-comment">// when the post is updated. Note that the POST field matches the</span>
      <span class="hljs-comment">// name of the select box in the markup.</span>
      <span class="hljs-variable">$cpt_page_template</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">'cpt_page_template'</span>];
      update_post_meta( <span class="hljs-variable">$post_id</span>, <span class="hljs-string">'cpt_page_template'</span>, <span class="hljs-variable">$cpt_page_template</span> );
  }
  add_action( <span class="hljs-string">'save_post'</span>, <span class="hljs-string">'postTemplateMetaBoxSave'</span> );</code></pre><p>Add the end we hook into <code>save_post</code> with <code>add_action</code>, and run this
function when the post is saved. This saves a field called
<code>cpt_page_templates</code> in our database for this specific post. We can
access this field when the page is loaded.</p>
<h3 id="retrieving-the-template-on-the-front-end">  <a class="heading-anchor" style="display:none;" href="#retrieving-the-template-on-the-front-end">    <i class="fa fa-link"></i>  </a>Retrieving the template on the front end</h3><p>This is the fun part. Now we have a shiny new meta box on our
admin post pages, and a field in the database for each post
telling us what template to show. So let&#39;s show it!</p>
<p>Fortunately this part is also pretty straightforward, and only
requires a single function. Again I commented this inline since it
flows pretty linearly. Let&#39;s take a look code:</p>
<pre><code class="hljs lang-php">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadMyCptPostTemplate</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-comment">// get the queried object which contains the information we need to</span>
      <span class="hljs-comment">// access our post meta data</span>
      <span class="hljs-variable">$query_object</span> = get_queried_object();
      <span class="hljs-variable">$page_template</span> = get_post_meta( <span class="hljs-variable">$query_object</span>-&gt;ID, <span class="hljs-string">'cpt_page_template'</span>, <span class="hljs-keyword">true</span> );

      <span class="hljs-comment">// the name of our custom post type for which we'll load a template</span>
      <span class="hljs-variable">$my_post_type</span> = <span class="hljs-string">'my-cpt-name'</span>;

      <span class="hljs-comment">// create an array of default templates</span>
      <span class="hljs-variable">$default_templates</span>    = <span class="hljs-keyword">array</span>();
      <span class="hljs-variable">$default_templates</span>[]  = <span class="hljs-string">'single-{$query_object-&gt;post_type}-{$query_object-&gt;post_name}.php'</span>;
      <span class="hljs-variable">$default_templates</span>[]  = <span class="hljs-string">'single-{$query_object-&gt;post_type}.php'</span>;
      <span class="hljs-variable">$default_templates</span>[]  = <span class="hljs-string">'single.php'</span>;

      <span class="hljs-comment">// only apply our template to our CPT pages.</span>
      <span class="hljs-keyword">if</span> ( <span class="hljs-variable">$query_object</span>-&gt;post_type == <span class="hljs-variable">$my_post_type</span> ) {
          <span class="hljs-comment">// if the page_template isn't empty, set it as the default_template</span>
          <span class="hljs-keyword">if</span> ( !<span class="hljs-keyword">empty</span>( <span class="hljs-variable">$page_template</span> ) ) {
              <span class="hljs-keyword">echo</span> <span class="hljs-string">'need to load '</span> . <span class="hljs-variable">$page_template</span>;
              <span class="hljs-variable">$default_templates</span> = <span class="hljs-variable">$page_template</span>;
          }
      }

      <span class="hljs-comment">// locate the template and return it</span>
      <span class="hljs-variable">$new_template</span> = locate_template( <span class="hljs-variable">$default_templates</span>, <span class="hljs-keyword">false</span> );
      <span class="hljs-keyword">return</span> <span class="hljs-variable">$new_template</span>;
  }
  add_filter( <span class="hljs-string">'single_template'</span>, <span class="hljs-string">'loadMyCptPostTemplate'</span> );</code></pre><p>The <code>add_filter()</code> function at the end is important. It allows to hook
into the query and change the template to be displayed. In our case,
we intercept the query, run a function to see which template we had
saved, and load that instead. Also notice that we set a default
template. So if the post had no saved option, or something went wrong
when trying to find it, it won&#39;t fail.</p>
<h2 id="summary">  <a class="heading-anchor" style="display:none;" href="#summary">    <i class="fa fa-link"></i>  </a>Summary</h2><p>So that&#39;s about it. The new template should load with all of the
regular post content in the body. The only problem I&#39;ve noticed is
that some themes won&#39;t show the page&#39;s content on more specialized
templates (like a Contact Page template), but this is pretty much
expected and it has always worked for the more commen Full Width, Left
Sidebar, etc, templates. This code is a little out of context, but the
general idea is there and easy to adapt to any plugin.</p>
<p>:: Cody Reichert</p>
</div></div></div></div><br/><footer class="navbar navbar-full navbar-dark bg-inverse"><div class="container"><div class="collapse navbar-toggleable-xs" id="navbar"><ul class="nav navbar-nav pull-md-left"><li class="nav-item"><span class="nav-link">Cody Reichert - Copyright © 2016</span></li></ul><ul class="nav navbar-nav pull-md-right"><li class="nav-item"><a class="nav-link" target="_blank" href="https://github.com/CodyReichert"><i class="fa fa-github-alt" style="margin-right:5px;"></i></a></li><li class="nav-item"><a class="nav-link" target="_blank" href="https://twitter.com/CodyReichert"><i class="fa fa-twitter" style="margin-right:5px;"></i></a></li></ul></div></div></footer></div>
    <script type="text/javascript" src="/index.js">
    </script>
  </body>
</html>
